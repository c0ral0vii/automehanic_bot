from aiogram import Router, types
from aiogram.filters import CommandStart, StateFilter
from aiogram.fsm.context import FSMContext
from keyboards.reply.main_keyboard import create_main_keyboard
from database.db_config import check_auth


start_router = Router(name="start")


@start_router.message(CommandStart(), StateFilter(None))
async def start_handler(message: types.Message, state: FSMContext) -> None:
    await state.clear()
    check = await check_auth(user_id=message.from_user.id)
    keyboard = create_main_keyboard(auth=check)

    await message.answer(
        """–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é! üëã  
–Ø ‚Äì –±–æ—Ç-–ø–æ–º–æ—â–Ω–∏–∫ MARSHALL.OFF-HIGHWAY üöú.  
–ó–¥–µ—Å—å –≤—ã –Ω–∞–π–¥–µ—Ç–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–ø—á–∞—Å—Ç–∏ –æ—Ç –±—Ä–µ–Ω–¥–∞ MARSHALL –¥–ª—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–π –∏ —Å–µ–ª—å—Å–∫–æ—Ö–æ–∑—è–π—Å—Ç–≤–µ–Ω–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–∏ –≤ –Ω–∞–ª–∏—á–∏–∏ –∏ –ø–æ–¥ –∑–∞–∫–∞–∑ üõ†.""",
        reply_markup=keyboard,
    )

    await message.answer(
        """‚Ä¢ –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∞—Ä—Ç–∏–∫—É–ª, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –æ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∏ –Ω–∞–ª–∏—á–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π –¥–µ—Ç–∞–ª–∏ –Ω–∞ –Ω–∞—à–µ–º —Å–∫–ª–∞–¥–µ. üè∑  
‚Ä¢ –ò–∑—É—á–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –∞—Ä—Ç–∏–∫—É–ª—É, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –ø–æ–¥—Ö–æ–¥–∏—Ç –æ–Ω –≤–∞–º –∏–ª–∏ –Ω–µ—Ç. üîç  
‚Ä¢ –ß—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã, –≤—ã –º–æ–∂–µ—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è (–µ—Å–ª–∏ —É–∂–µ —è–≤–ª—è–µ—Ç–µ—Å—å –Ω–∞—à–∏–º –∫–ª–∏–µ–Ω—Ç–æ–º) –∏–ª–∏ –Ω–∞–ø—Ä–∞–≤–∏—Ç—å –Ω–∞–º –∑–∞–ø—Ä–æ—Å –Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∞—à–µ–π –∫–æ–º–ø–∞–Ω–∏–∏ –≤ —Ä—è–¥—ã –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –∏ –ø–æ–ª—É—á–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ! üíº  

‚Ä¢ üåê –ù–∞—à —Å–∞–π—Ç ‚Äì off-highway.marshall.parts  
‚Ä¢ üöú –ó–∞–ø—á–∞—Å—Ç–∏ –¥–ª—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–π, —Å–µ–ª—å—Å–∫–æ—Ö–æ–∑—è–π—Å—Ç–≤–µ–Ω–Ω–æ–π –∏ –ª–µ—Å–æ–∑–∞–≥–æ—Ç–æ–≤–∏—Ç–µ–ª—å–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–∏ –≤ –Ω–∞–ª–∏—á–∏–∏ –∏ –ø–æ–¥ –∑–∞–∫–∞–∑.  
‚Ä¢ ü§ù –ü–æ–º–æ—â—å –≤ –ø–æ–¥–±–æ—Ä–µ.  
‚Ä¢ üöö –î–æ—Å—Ç–∞–≤–∫–∞ –≤–æ –≤—Å–µ —Ä–µ–≥–∏–æ–Ω—ã –†–æ—Å—Å–∏–∏ –∏ —Å—Ç—Ä–∞–Ω –°–ù–ì."""
    )
